{{ define "archives" }}
  {{ if not .prd }}
    <link href="/assets/stylesheets/archives.css" rel="stylesheet">
  {{ end }}

  <div class="tag-list">
    <div class="tag-title">
      Tags
      {{ if not (eq .selectedTag "") }}
        <div class="show-all-link">
          <a class="ui tag label" href="/archives">Show All</a>
        </div>
      {{ end }}
    </div>
    {{ range $_, $tag := .rawData.Tags }}

      {{ if eq $.selectedTag $tag }}
        <div class="tag-link tag-selected">
          {{ $times := index $.rawData.TagTimes $tag }}
          {{ $extraSize := mul $times 0.6 }}
          <a href="/archives?tag={{$tag}}" style="font-size:{{ add $extraSize 16 }}px;">{{$tag}}</a>
        </div>
      {{ else }}
        <div class="tag-link">
          {{ $times := index $.rawData.TagTimes $tag }}
          {{ $extraSize := mul $times 0.6 }}
          <a href="/archives?tag={{$tag}}" style="font-size:{{ add $extraSize 16 }}px;">{{$tag}}</a>
        </div>
      {{ end }}

    {{ end }}
  </div>

  <div class="ui divider archives-divider"></div>

  <div class="timeline-container post-list">
    {{ range $_, $title := .titles }}
      {{ $post := index $.rawData.Posts $title }}
      {{ if $post }}
        <div class="timeline-item post-link">
          <span class="post-date">{{ removeYear $post.ShowDate }}</span>
          <a class="post-title" href="/post/{{$title}}">{{$title}}</a>
          {{ range $_, $tag := $post.Tags }}
            <div class="archive-tag-didiver"></div>
            <a class="followed-tag-link" href="/archives?tag={{$tag}}">{{$tag}}</a>
          {{ end }}
        </div>
      {{ else }}
        <div class="timeline-title">
          {{ $title }}
        </div>
      {{ end }}
    {{ end }}
  </div>

  {{ if not .prd }}
    <script src="/assets/javascripts/archives.js"></script>
  {{ end }}
{{ end }} 